<tool id="annotate_peaks" name="Annotate peaks">
  <description>Annotate peaks with information regarding nearest genes</description>
  <command interpreter="Rscript">annotate-peaks.R --basic-peaks $basic_peaks_file --extended-peaks $extended_peaks_file --output annotated_peaks.gff --annotation-db $annotation_db --reference-assembly $reference_assembly 2>/dev/null</command>

  <inputs>
    <param name="basic_peaks_file" label="Basic peaks file" type="data" format="gff" />
    <param name="extended_peaks_file" label="Extended peaks file" type="data" format="tabular" />
    <param name="annotation_db" label="Annotation DB" type="text" value="org.Hs.eg.db" />
    <param name="reference_assembly" label="Reference assembly" type="text" value="TSS.human.GRCh37" />
  </inputs>

  <outputs>
    <data name="annotated_peaks" label="Annotated peaks from data ${basic_peaks_file.hid}" format="gff" from_work_dir="annotated_peaks.gff" />
  </outputs>

  <stdio>
    <exit_code range="1:" level="fatal" description="Unspecified error" />
  </stdio>

  <help>I am a giant *banana*.</help>
</tool>
